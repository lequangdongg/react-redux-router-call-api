(this["webpackJsonpcall-api"]=this["webpackJsonpcall-api"]||[]).push([[0],{41:function(t,e,n){t.exports=n(71)},46:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(20),o=n.n(r),l=(n(46),n(2)),u=n(3),i=n(5),s=n(4),m=n(6),d=function(t){function e(){return Object(l.a)(this,e),Object(i.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"Trang Chu"))}}]),e}(a.Component),h=function(t){function e(){return Object(l.a)(this,e),Object(i.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"btn btn-warning"}," Khong tim thay trang"))}}]),e}(a.Component),p=function(t){function e(){return Object(l.a)(this,e),Object(i.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return c.a.createElement("div",{className:"panel panel-primary"},c.a.createElement("div",{className:"panel-heading"},c.a.createElement("h3",{className:"panel-title"},"Danh sach san pham")),c.a.createElement("div",{className:"panel-body"},c.a.createElement("table",{className:"table table-striped"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"STT"),c.a.createElement("th",{scope:"col"},"Ma San Pham"),c.a.createElement("th",{scope:"col"},"Ten San Pham"),c.a.createElement("th",{scope:"col"},"Gia San Pham "),c.a.createElement("th",{scope:"col"},"Trang Thai"),c.a.createElement("th",{scope:"col"},"Hanh Dong"))),c.a.createElement("tbody",null,this.props.children))))}}]),e}(a.Component),f=n(12),E=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(i.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(c)))).onDelete=function(t){confirm("Ban chac chan muon xoa san pham nay?")&&n.props.onDelete(t)},n}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.product,a=e.index,r=n.status?"Con Hang":"Het Hang",o=n.status?"warning":"default";return c.a.createElement("tr",null,c.a.createElement("td",null,a+1),c.a.createElement("td",null,n.id),c.a.createElement("td",null,n.name," "),c.a.createElement("td",null,n.price),c.a.createElement("td",null,c.a.createElement("span",{className:"btn btn-".concat(o)},r)),c.a.createElement("td",null,c.a.createElement(f.b,{to:"/product/".concat(n.id,"/edit"),className:"btn btn-success"},"Update"),c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return t.onDelete(n.id)}},"Delete")))}}]),e}(a.Component),b=n(17),v=n(38),O=n.n(v),j="https://5e107db483440f0014d82d6f.mockapi.io/api/";function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0;return O()({method:e,url:"".concat(j,"/").concat(t),data:n}).catch((function(t){console.log(t)}))}var g=function(t){return{type:"FETCH_PRODUCTS",products:t}},D=function(t){return{type:"DELETE_PRODUCT",id:t}},N=function(t){return{type:"ADD_PRODUCT",product:t}},P=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).findIndex=function(t,e){var n=-1;return t.forEach((function(t,a){t.id===e&&(n=a)})),n},n.onDelete=function(t){n.props.onDeleteProduct(t)},n.showProduct=function(t){var e=null;return t.length>0&&(e=t.map((function(t,e){return c.a.createElement(E,{key:e,product:t,index:e,onDelete:n.onDelete})}))),e},n}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchAllProducts()}},{key:"render",value:function(){var t=this.props.products;return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},c.a.createElement(f.b,{to:"/product/add",className:"btn btn-success"},"Add Product"),c.a.createElement(p,null,this.showProduct(t))))}}]),e}(a.Component),T=Object(b.b)((function(t){return{products:t.products}}),(function(t,e){return{fetchAllProducts:function(){t((function(t){return y("products","GET",null).then((function(e){t(g(e.data))}))}))},onDeleteProduct:function(e){t(function(t){return function(e){return y("products/".concat(t),"DELETE",null).then((function(n){e(D(t))}))}}(e))}}}))(P),x=n(39),C=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(i.a)(this,Object(s.a)(e).call(this,t))).componentDidMount=function(){var t=n.props.match;if(t){var e=t.params.id;n.props.onEditProduct(e)}},n.UNSAFE_componentWillReceiveProps=function(t){if(t&&t.itemEditting){var e=t.itemEditting;n.setState({id:e.id,txtName:e.name,txtPrice:e.price,chkbStatus:e.status})}},n.onChange=function(t){var e=t.target,a=e.name,c="checkbox"===e.type?e.checked:e.value;n.setState(Object(x.a)({},a,c))},n.onSave=function(t){t.preventDefault();var e=n.state,a=e.id,c=e.txtName,r=e.txtPrice,o=e.chkbStatus,l=n.props.history,u={id:a,name:c,price:r,status:o};a?n.props.onUpdateProduct(u):n.props.onAddProduct(u),l.goBack()},n.state={id:"",txtName:"",txtPrice:"",chkbStatus:""},n}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.state,e=t.txtName,n=t.txtPrice,a=t.chkbStatus;return c.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6"},c.a.createElement("form",{onSubmit:this.onSave},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Product Name : "),c.a.createElement("input",{type:"text",className:"form-control",name:"txtName",value:e,onChange:this.onChange})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Price : "),c.a.createElement("input",{type:"number",className:"form-control",name:"txtPrice",value:n,onChange:this.onChange})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Trang Thai : ")),c.a.createElement("div",{className:"checkbox"},c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",value:a,name:"chkbStatus",onChange:this.onChange,checked:a}),"Con Hang")),c.a.createElement(f.b,{to:"/product-list",className:"btn btn-secondary"},"Back"),c.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))}}]),e}(a.Component),k=Object(b.b)((function(t){return{itemEditting:t.itemEditting}}),(function(t,e){return{onAddProduct:function(e){t(function(t){return function(e){return y("products","POST",t).then((function(t){e(N(t.data))}))}}(e))},onEditProduct:function(e){t(function(t){return function(e){return y("products/".concat(t),"GET",null).then((function(t){e({type:"EDIT_PRODUCT",product:t.data})}))}}(e))},onUpdateProduct:function(e){t(function(t){return function(e){return y("products/".concat(t.id),"PUT",t).then((function(t){e(function(t){return{type:"UPDATE_PRODUCT",product:t}}(t.data))}))}}(e))}}}))(C),w=[{path:"/",exact:!0,main:function(){return c.a.createElement(d,null)}},{path:"/product-list",exact:!1,main:function(){return c.a.createElement(T,null)}},{path:"/product/add",exact:!1,main:function(t){var e=t.history;return c.a.createElement(k,{history:e})}},{path:"/product/:id/edit",exact:!1,main:function(t){var e=t.match,n=t.history;return c.a.createElement(k,{match:e,history:n})}},{path:"",exact:!1,main:function(){return c.a.createElement(h,null)}}],S=(n(70),n(16)),_=[{name:"Home",to:"/",exact:!0},{name:" Product list",to:"/product-list",exact:!1}],U=function(t){var e=t.label,n=t.to,a=t.activeOnlyWhenExact;return c.a.createElement(S.a,{path:n,exact:a,children:function(t){var a=t.match?"btn btn-outline-info":"";return c.a.createElement("li",{className:"nav-item ".concat(a)},c.a.createElement(f.b,{to:n,className:"nav-link"},e))}})},A=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).showMenu=function(t){var e=null;return t.length>0&&(e=t.map((function(t,e){return c.a.createElement(U,{key:e,label:t.name,to:t.to,activeOnlyWhenExact:t.exact})}))),e},n}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return c.a.createElement("ul",{className:"nav"},this.showMenu(_))}}]),e}(a.Component),R=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).showContentMenus=function(t){var e=null;return t.length>0&&(e=t.map((function(t,e){return c.a.createElement(S.a,{key:e,path:t.path,exact:t.exact,component:t.main})}))),c.a.createElement(S.c,null,e)},n}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return c.a.createElement(f.a,null,c.a.createElement("div",null,c.a.createElement(A,null),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},this.showContentMenus(w)))))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=n(15),M=n(18),I=[],B=function(t,e){var n=-1;return t.forEach((function(t,a){t.id===e&&(n=a)})),n},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0,n=-1,a=e.id,c=e.product;switch(e.type){case"FETCH_PRODUCTS":return t=e.products,Object(M.a)(t);case"DELETE_PRODUCT":return n=B(t,a),t.splice(n,1),Object(M.a)(t);case"ADD_PRODUCT":return t.push(e.product),Object(M.a)(t);case"UPDATE_PRODUCT":return t[n=B(t,c)]=c,Object(M.a)(t);default:return Object(M.a)(t)}},W={},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"EDIT_PRODUCT":return e.product;default:return t}},X=Object(H.c)({products:L,itemEditting:G}),F=n(40),J=Object(H.e)(X,Object(H.d)(Object(H.a)(F.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(c.a.createElement(b.a,{store:J},c.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.ba398cab.chunk.js.map